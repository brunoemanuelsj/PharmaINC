(function(e){function t(t){for(var s,r,n=t[0],o=t[1],c=t[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);d&&d(t);while(m.length)m.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(s=!1)}s&&(l.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},l=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=o;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0f50":function(e,t,a){},1826:function(e,t,a){},1987:function(e,t,a){"use strict";a("1826")},"4a6d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("div",{staticClass:"main"},[s("header",{staticClass:"main__header"},[s("img",{staticClass:"main__logo",attrs:{src:a("9d64"),alt:"logo_pharma_inc"}}),s("menu",{staticClass:"main__menu"},[s("v-icon",[e._v("mdi-menu")])],1)]),s("v-main",{staticClass:"main_content"},[s("PatientsTable")],1)],1)])},l=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?a("div",{staticClass:"loading"},[a("base-loading")],1):a("div",{staticClass:"table_container"},[a("div",{staticClass:"table_container__search"},[a("div",{staticClass:"search__item"},[a("v-text-field",{attrs:{"prepend-icon":"mdi-magnify",label:"Digite para buscar...",solo:"",color:"#ffc297",clearable:""},model:{value:e.globalFilter,callback:function(t){e.globalFilter=t},expression:"globalFilter"}})],1),a("div",{staticClass:"search__item"},[a("div",{staticClass:"item__sub"},[a("v-autocomplete",{attrs:{"prepend-icon":"mdi-clipboard-text-search",color:"#ffc297",items:e.names,dense:"",chips:"","small-chips":"",label:"Nome",multiple:"",solo:"",clearable:""},model:{value:e.selectedName,callback:function(t){e.selectedName=t},expression:"selectedName"}})],1),a("div",{staticClass:"item__sub"},[a("v-autocomplete",{attrs:{"prepend-icon":"mdi-earth",color:"#ffc297",items:e.nacionalidades,dense:"",chips:"","small-chips":"",label:"Nacionalidade",multiple:"",solo:"",clearable:""},model:{value:e.selectedNacionalidade,callback:function(t){e.selectedNacionalidade=t},expression:"selectedNacionalidade"}})],1),a("div",{staticClass:"item__sub"},[a("v-autocomplete",{attrs:{"prepend-icon":"mdi-account  ",color:"#ffc297",items:e.genders,dense:"",chips:"","small-chips":"",label:"Gender",multiple:"",solo:"",clearable:""},model:{value:e.selectedGender,callback:function(t){e.selectedGender=t},expression:"selectedGender"}})],1)])]),a("v-data-table",{staticClass:"table_container__table elevation-1",attrs:{headers:e.headers,items:e.patients,"item-key":"name","items-per-page":5},scopedSlots:e._u([{key:"item.actions",fn:function(t){var s=t.item;return[a("td",{staticClass:"table__action"},[a("a",{staticClass:"porto-button"},[a("v-icon",{on:{click:function(t){return e.openUser(s)}}},[e._v("mdi-eye")])],1)])]}}],null,!0)}),a("v-btn",{attrs:{loading:e.loading,color:"#ffc297"},on:{click:e.loadMore}},[e._v(" Load more "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-reload ")])],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.userDialog,callback:function(t){e.userDialog=t},expression:"userDialog"}},[a("detailed-user",{attrs:{user:e.selectedUser,url:e.actualUrl}})],1)],1)},n=[],o=(a("caad"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{attrs:{role:"main"}},[a("ul",{attrs:{role:"progressbar","aria-busy":"true","aria-label":"Loading domino shop"}},[a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}}),a("li",{attrs:{role:"presentation"}})])])}],d={},u=d,m=(a("a242"),a("2877")),p=Object(m["a"])(u,o,c,!1,null,"30cab420",null),h=p.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return void 0===e.user||null===e.user?a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Usuário não encontrado! ")]),a("v-card-text",[e._v(" Usuário solicitado não está na lista de pacientes. Tente carregar mais registros.")])],1):a("v-card",{staticClass:"user"},[a("div",{staticClass:"user__imageContainer"},[a("img",{staticClass:"user__image",attrs:{src:e.user.picture.large,alt:"user image"}})]),a("h1",{staticClass:"user__name"},[e._v(e._s(this.user.name))]),a("ul",{staticClass:"user_info"},[a("li",[a("div",{staticClass:"title"},[e._v("Email")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.email))])]),a("li",[a("div",{staticClass:"title"},[e._v("Gênero")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.gender))])]),a("li",[a("div",{staticClass:"title"},[e._v("Data de nascimento")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.birth))])]),a("li",[a("div",{staticClass:"title"},[e._v("Telefone")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.phone))])]),a("li",[a("div",{staticClass:"title"},[e._v("Nacionalidade")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.nat))])]),a("li",[a("div",{staticClass:"title"},[e._v("Endereço")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.location.city+", "+this.user.location.country))])]),a("li",[a("div",{staticClass:"title"},[e._v("ID")]),a("div",{staticClass:"item"},[e._v(e._s(this.user.login.username))])]),a("li",[a("div",{staticClass:"title"},[e._v("URL")]),a("div",{staticClass:"item"},[e._v(e._s(this.url))])])])])},g=[],f={props:{user:Object,url:String},mounted(){}},_=f,b=(a("e71b"),a("6544")),C=a.n(b),w=a("b0af"),P=a("99d9"),y=Object(m["a"])(_,v,g,!1,null,"1706a7da",null),x=y.exports;C()(y,{VCard:w["a"],VCardText:P["a"],VCardTitle:P["b"]});var U={components:{BaseLoading:h,DetailedUser:x},data(){return{loading:!1,globalFilter:null,selectedName:[],selectedNacionalidade:[],selectedGender:[],pageController:1,headers:[{text:"Name",align:"start",value:"name",width:"30%"},{text:"Gender",value:"gender",width:"30%"},{text:"Birth",value:"birth",width:"30%"},{text:"Actions",value:"actions",align:"center"}],userDialog:!1,selectedUser:null,userParameter:null,actualUrl:null}},watch:{userDialog(){!1===this.userDialog&&this.clearURL()}},computed:{patients(){return this.$store.getters.allPatients.filter(e=>{let t=null===this.globalFilter||(e.name.toLowerCase().includes(this.globalFilter.toLowerCase())||e.birth.toLowerCase().includes(this.globalFilter.toLowerCase())),a=!(this.selectedName.length>0)||this.selectedName.includes(e.name),s=!(this.selectedNacionalidade.length>0)||this.selectedNacionalidade.includes(e.nat),i=!(this.selectedGender.length>0)||this.selectedGender.includes(e.gender);return t&&a&&s&&i})},names(){return this.$store.getters.allPatients.map(e=>e.name)},nacionalidades(){return this.$store.getters.allPatients.map(e=>e.nat)},genders(){return this.$store.getters.allPatients.map(e=>e.gender)}},mounted(){this.getPatients(this.pageController);let e=window.location.href,t=new URL(e);this.actualUrl=e,this.userParameter=t.searchParams.get("user")},methods:{getPatients(e){this.loading=!0,this.$axios.get(`https://randomuser.me/api/?page=${e}&results=50&seed=abc`).then(e=>{let t=e.data.results;t.forEach(e=>{e.name=e.name.first+" "+e.name.last,e.birth=new Date(e.dob.date).toLocaleDateString()}),console.log(t),this.savePatients(t),null!==this.userParameter&&this.loadUser(this.userParameter)}).catch(e=>{console.log(e)})},savePatients(e){this.$store.commit("savePatients",e),this.loading=!1},loadMore(){this.pageController++,this.getPatients(this.pageController)},openUser(e){window.history.pushState({},"Pharma Inc",window.location.origin+"?user="+e.login.username);let t=window.location.href,a=new URL(t);this.actualUrl=t,this.userParameter=a.searchParams.get("user"),null!==this.userParameter&&this.loadUser(this.userParameter)},loadUser(e){this.selectedUser=this.patients.find(t=>t.login.username===e),console.log("this.selectedUser"),console.log(this.selectedUser),this.userDialog=!0},clearURL(){this.userParameter=null,window.history.pushState({},"Pharma Inc",window.location.origin)}}},N=U,O=(a("9239"),a("c6a6")),D=a("8336"),j=a("8fea"),$=a("169a"),k=a("132d"),L=a("8654"),V=Object(m["a"])(N,r,n,!1,null,"4aa1cf7b",null),S=V.exports;C()(V,{VAutocomplete:O["a"],VBtn:D["a"],VDataTable:j["a"],VDialog:$["a"],VIcon:k["a"],VTextField:L["a"]});var T={name:"App",components:{PatientsTable:S},data:()=>({})},G=T,E=(a("1987"),a("7496")),F=a("f6c4"),M=Object(m["a"])(G,i,l,!1,null,"637eabac",null),I=M.exports;C()(M,{VApp:E["a"],VIcon:k["a"],VMain:F["a"]});var R=a("2f62");s["a"].use(R["a"]);var A=new R["a"].Store({state:{patients:[]},mutations:{savePatients(e,t){e.patients.push(...t)}},getters:{allPatients:e=>e.patients}}),B=a("f309");s["a"].use(B["a"]);var J=new B["a"]({}),q=a("bc3a"),z=a.n(q);s["a"].prototype.$axios=z.a,new s["a"]({store:A,vuetify:J,render:e=>e(I)}).$mount("#app")},9239:function(e,t,a){"use strict";a("4a6d")},"9d64":function(e,t,a){e.exports=a.p+"img/logo.9c695856.png"},a242:function(e,t,a){"use strict";a("0f50")},bb35:function(e,t,a){},e71b:function(e,t,a){"use strict";a("bb35")}});
//# sourceMappingURL=app.0fd8673c.js.map